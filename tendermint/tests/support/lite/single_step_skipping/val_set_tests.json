{
  "batch_name": "Single Step Skipping-validator set",
  "test_cases": [
    {
      "description": "Case: Trusted height=1, verifying signed header at height=3, should not expect error",
      "initial": {
        "signed_header": {
          "header": {
            "version": {
              "block": "0",
              "app": "0"
            },
            "chain_id": "test-chain-01",
            "height": "1",
            "time": "2019-11-02T15:04:00Z",
            "last_block_id": {
              "hash": "",
              "parts": {
                "total": "0",
                "hash": ""
              }
            },
            "last_commit_hash": "",
            "data_hash": "",
            "validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
            "next_validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
            "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
            "app_hash": "6170705F68617368",
            "last_results_hash": "",
            "evidence_hash": "",
            "proposer_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33"
          },
          "commit": {
            "height": "1",
            "round": "1",
            "block_id": {
              "hash": "A245849C14EF8556CBF925997900CDD4B5519981FD96A2DBE822E5F048031ABD",
              "parts": {
                "total": "1",
                "hash": "D1F30CEBE0D8767074E22104CC7F548E41003C096B776C6152A5CAF48F72E63A"
              }
            },
            "signatures": [
              {
                "block_id_flag": 2,
                "validator_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "uGmIBqgS9cd3L8tdDNoECnp7dWB/9E5LVd67WCv2zjcihyRkQC9N7qv6HRYK4uVIx4A2TydKiPGR2iayGyADCg=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "gq9gLG1jOoYdTVGuvfRy0DFPEjARYDmQwWFDK3gIRSb/+hFLs773ULIbyw93n6M/tQdmWEvDZ2OI9LJ5hamCCQ=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "kF/JeXJ5hZajccjS0E36b7U9kcWu2dywnxeY74gO8Beu4+lbL/HIgXjv01RKIsJQoTl0LQF54ekf7ftU4fQXCQ=="
              }
            ]
          }
        },
        "next_validator_set": {
          "validators": [
            {
              "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
              },
              "voting_power": "50",
              "proposer_priority": "-100"
            },
            {
              "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
              },
              "voting_power": "50",
              "proposer_priority": "50"
            },
            {
              "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
              },
              "voting_power": "50",
              "proposer_priority": "50"
            }
          ],
          "proposer": {
            "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
            "pub_key": {
              "type": "tendermint/PubKeyEd25519",
              "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
            },
            "voting_power": "50",
            "proposer_priority": "-100"
          }
        },
        "trusting_period": "10800000000000",
        "now": "2019-11-02T15:30:00Z"
      },
      "input": [
        {
          "signed_header": {
            "header": {
              "version": {
                "block": "0",
                "app": "0"
              },
              "chain_id": "test-chain-01",
              "height": "3",
              "time": "2019-11-02T15:04:10Z",
              "last_block_id": {
                "hash": "BF9535C5A5FEFB00719BAB70B177C0D4EA3E18E433E91E396EC61ADE2CE12161",
                "parts": {
                  "total": "1",
                  "hash": "1DC8F8E942E7FDFB42A83B3E308FCBD6CC7602F60FB7812DC91F91A6AFAE295A"
                }
              },
              "last_commit_hash": "CE50B907C13B48572BD2EFA1FED9A9341B7F680F3EC3F562ED0A8E745D6F528E",
              "data_hash": "",
              "validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
              "next_validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
              "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
              "app_hash": "6170705F68617368",
              "last_results_hash": "",
              "evidence_hash": "",
              "proposer_address": "026CC7B6F3E62F789DBECEC59766888B5464737D"
            },
            "commit": {
              "height": "3",
              "round": "1",
              "block_id": {
                "hash": "E56DEC6C1AF5879B55DB7288CE698E7C67BAD20011371BF1EC53845079583524",
                "parts": {
                  "total": "1",
                  "hash": "E7198B911EF65EA64C7A1601504F116213E27AE32A5D2BD6B5BDBFB3F28A69DE"
                }
              },
              "signatures": [
                {
                  "block_id_flag": 2,
                  "validator_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                  "timestamp": "2019-11-02T15:04:20Z",
                  "signature": "cynkKHMj7Q+4HpeSMntB0XgpvEciMKgYb/twD0/QEl7aotW2gXrCxCFMgw1ph5KvVEWRRrjSGC7IJTrHV9y2DQ=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                  "timestamp": "2019-11-02T15:04:20Z",
                  "signature": "w1RvpvDNe7aS2RBXrHBTJPbpQ9SdBVX38Bh+se+5zziL0+sihK6SZqrnHBulH7x4VUMDHgJg5dVwXwkjiOLHAA=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                  "timestamp": "2019-11-02T15:04:20Z",
                  "signature": "UaEzvVJ5ewddDy5mnuBfIzEDpcMUX2La8PMZhjjKTN/IVVRnrxgLZ4pbKg+tAD4eho5KYVkqAVn2u1m9XQuWAg=="
                }
              ]
            }
          },
          "validator_set": {
            "validators": [
              {
                "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
                },
                "voting_power": "50",
                "proposer_priority": "-50"
              },
              {
                "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
                },
                "voting_power": "50",
                "proposer_priority": "-50"
              },
              {
                "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
                },
                "voting_power": "50",
                "proposer_priority": "100"
              }
            ],
            "proposer": {
              "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
              },
              "voting_power": "50",
              "proposer_priority": "-50"
            }
          },
          "next_validator_set": {
            "validators": [
              {
                "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
                },
                "voting_power": "50",
                "proposer_priority": "-100"
              },
              {
                "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
                },
                "voting_power": "50",
                "proposer_priority": "50"
              },
              {
                "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
                },
                "voting_power": "50",
                "proposer_priority": "50"
              }
            ],
            "proposer": {
              "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
              },
              "voting_power": "50",
              "proposer_priority": "-100"
            }
          }
        }
      ],
      "expected_output": "no error"
    },
    {
      "description": "Case: Trusted height=1, verifying signed header at height=7, should not expect error",
      "initial": {
        "signed_header": {
          "header": {
            "version": {
              "block": "0",
              "app": "0"
            },
            "chain_id": "test-chain-01",
            "height": "1",
            "time": "2019-11-02T15:04:00Z",
            "last_block_id": {
              "hash": "",
              "parts": {
                "total": "0",
                "hash": ""
              }
            },
            "last_commit_hash": "",
            "data_hash": "",
            "validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
            "next_validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
            "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
            "app_hash": "6170705F68617368",
            "last_results_hash": "",
            "evidence_hash": "",
            "proposer_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33"
          },
          "commit": {
            "height": "1",
            "round": "1",
            "block_id": {
              "hash": "A245849C14EF8556CBF925997900CDD4B5519981FD96A2DBE822E5F048031ABD",
              "parts": {
                "total": "1",
                "hash": "D1F30CEBE0D8767074E22104CC7F548E41003C096B776C6152A5CAF48F72E63A"
              }
            },
            "signatures": [
              {
                "block_id_flag": 2,
                "validator_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "uGmIBqgS9cd3L8tdDNoECnp7dWB/9E5LVd67WCv2zjcihyRkQC9N7qv6HRYK4uVIx4A2TydKiPGR2iayGyADCg=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "gq9gLG1jOoYdTVGuvfRy0DFPEjARYDmQwWFDK3gIRSb/+hFLs773ULIbyw93n6M/tQdmWEvDZ2OI9LJ5hamCCQ=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "kF/JeXJ5hZajccjS0E36b7U9kcWu2dywnxeY74gO8Beu4+lbL/HIgXjv01RKIsJQoTl0LQF54ekf7ftU4fQXCQ=="
              }
            ]
          }
        },
        "next_validator_set": {
          "validators": [
            {
              "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
              },
              "voting_power": "50",
              "proposer_priority": "-100"
            },
            {
              "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
              },
              "voting_power": "50",
              "proposer_priority": "50"
            },
            {
              "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
              },
              "voting_power": "50",
              "proposer_priority": "50"
            }
          ],
          "proposer": {
            "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
            "pub_key": {
              "type": "tendermint/PubKeyEd25519",
              "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
            },
            "voting_power": "50",
            "proposer_priority": "-100"
          }
        },
        "trusting_period": "10800000000000",
        "now": "2019-11-02T15:30:00Z"
      },
      "input": [
        {
          "signed_header": {
            "header": {
              "version": {
                "block": "0",
                "app": "0"
              },
              "chain_id": "test-chain-01",
              "height": "7",
              "time": "2019-11-02T15:04:10Z",
              "last_block_id": {
                "hash": "CB139C4EF48BAE1007BB3CF4E39131C3B27782CB8D12E1690C916C4CFEA359E0",
                "parts": {
                  "total": "1",
                  "hash": "9C6CEEFF8397D19C6AB5AD3F00608D3152090A9B645D3C3CC9D8E66C8B319034"
                }
              },
              "last_commit_hash": "CE50B907C13B48572BD2EFA1FED9A9341B7F680F3EC3F562ED0A8E745D6F528E",
              "data_hash": "",
              "validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
              "next_validators_hash": "C403871B77A3295FFF1EE321424FC969EFAD87EF16740DF28A1B6CA62CA0977C",
              "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
              "app_hash": "6170705F68617368",
              "last_results_hash": "",
              "evidence_hash": "",
              "proposer_address": "026CC7B6F3E62F789DBECEC59766888B5464737D"
            },
            "commit": {
              "height": "7",
              "round": "1",
              "block_id": {
                "hash": "22D13748C59A4A6D05B38FBFF520F6F6BA7BD74DA1ECBDD8419CF9B196DD9E5A",
                "parts": {
                  "total": "1",
                  "hash": "A862597A9288A057560DA73B642C7E1588C6D62BE1C89DBF9FD81C2E8FFA9E46"
                }
              },
              "signatures": [
                {
                  "block_id_flag": 2,
                  "validator_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                  "timestamp": "2019-11-02T15:04:40Z",
                  "signature": "QhxBEPW9FejpUm5PKyKe6ZdO0tbYOl67D4PDmytwyoimi/4bYJuPY70DqBT1wuu96t/+lpJhIe+v1wYhQNhRCA=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                  "timestamp": "2019-11-02T15:04:40Z",
                  "signature": "sbSWtG0eMcYM8u24mG856AeQ68iEvTMkDg8owbz/GMtIup6toIDNCXPNVTfKplFY5r0ejXivs445yVaBt67/DA=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                  "timestamp": "2019-11-02T15:04:40Z",
                  "signature": "7eiIrsXRb4uHQB4gbbZR2e6NHNHP30O0rhP2hfSlNq+8OsBz62WRNu1vVQ/eIc6n5R99GCUabT+z4ZjoFDpBDQ=="
                }
              ]
            }
          },
          "validator_set": {
            "validators": [
              {
                "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
                },
                "voting_power": "50",
                "proposer_priority": "-50"
              },
              {
                "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
                },
                "voting_power": "50",
                "proposer_priority": "-50"
              },
              {
                "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
                },
                "voting_power": "50",
                "proposer_priority": "100"
              }
            ],
            "proposer": {
              "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
              },
              "voting_power": "50",
              "proposer_priority": "-50"
            }
          },
          "next_validator_set": {
            "validators": [
              {
                "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
                },
                "voting_power": "50",
                "proposer_priority": "-100"
              },
              {
                "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
                },
                "voting_power": "50",
                "proposer_priority": "50"
              },
              {
                "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
                },
                "voting_power": "50",
                "proposer_priority": "50"
              }
            ],
            "proposer": {
              "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
              },
              "voting_power": "50",
              "proposer_priority": "-100"
            }
          }
        }
      ],
      "expected_output": "no error"
    },
    {
      "description": "Case: Trusted height=1 verifying signed header at height=7 while valset changes less than default trust level (1/3), should not expect error",
      "initial": {
        "signed_header": {
          "header": {
            "version": {
              "block": "0",
              "app": "0"
            },
            "chain_id": "test-chain-01",
            "height": "1",
            "time": "2019-11-02T15:04:00Z",
            "last_block_id": {
              "hash": "",
              "parts": {
                "total": "0",
                "hash": ""
              }
            },
            "last_commit_hash": "",
            "data_hash": "",
            "validators_hash": "26952B5D784A1564D167DF98D2D37376B5E77771928256D25E6FF9AE3AD11564",
            "next_validators_hash": "26952B5D784A1564D167DF98D2D37376B5E77771928256D25E6FF9AE3AD11564",
            "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
            "app_hash": "6170705F68617368",
            "last_results_hash": "",
            "evidence_hash": "",
            "proposer_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33"
          },
          "commit": {
            "height": "1",
            "round": "1",
            "block_id": {
              "hash": "15F15EF50BDE2018F4B129A827F90C18222C757770C8295EB8EE7BF50E761BC0",
              "parts": {
                "total": "1",
                "hash": "077E16D720F9AA656EBFD7F3FB31A4A35E1F2F4EBEBB123642BED45535D88AD5"
              }
            },
            "signatures": [
              {
                "block_id_flag": 2,
                "validator_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "GpfzfJN5RQpKqHiZsNu3dg5z5SuD4M2sg5UdMhJdhyIEoX6jZey1M2bYec3tHy44crtfCM6D4o6RIYvsfZRlBQ=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "ObsWDMxodz7SfkGHvX5iLbHKpVkvvso0kSl2X8cPmDjinzc8fDNcMiO5V8ba3EZM9ZALayiIMsd0Pw3Z2C+nBA=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "mxvQzgchsY/GnZ7qF/I7YavLGi4aVo7hR0xqoCTB1q3PMJ/tRbTgvzdxlPtcK0POB7dQwmc20f9EGLKs1bAiAw=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "xiOf4pjfMACBpVmPGK+OoC0WPB3zqrv9GSizPF8S//W3n6D1P21AlCfmqOLp4Uzl/dwGxW4MQ1s+LqQxBzs5Bg=="
              }
            ]
          }
        },
        "next_validator_set": {
          "validators": [
            {
              "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
              },
              "voting_power": "50",
              "proposer_priority": "-150"
            },
            {
              "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
              },
              "voting_power": "50",
              "proposer_priority": "-67"
            },
            {
              "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
              },
              "voting_power": "50",
              "proposer_priority": "133"
            },
            {
              "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
              },
              "voting_power": "50",
              "proposer_priority": "133"
            }
          ],
          "proposer": {
            "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
            "pub_key": {
              "type": "tendermint/PubKeyEd25519",
              "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
            },
            "voting_power": "50",
            "proposer_priority": "-150"
          }
        },
        "trusting_period": "10800000000000",
        "now": "2019-11-02T15:30:00Z"
      },
      "input": [
        {
          "signed_header": {
            "header": {
              "version": {
                "block": "0",
                "app": "0"
              },
              "chain_id": "test-chain-01",
              "height": "7",
              "time": "2019-11-02T15:04:50Z",
              "last_block_id": {
                "hash": "B6D24BA6215A7627DD89775074BB1CF6BF5BAC9BE70E1DD1EB571573027DDEFC",
                "parts": {
                  "total": "1",
                  "hash": "26ECE8D1645FB169C8F474B3D78081BDD102EB1726B770966658285DC0AB3F94"
                }
              },
              "last_commit_hash": "55269D2262250B7FF3C29D575D5E9F43EEC9D00190E23A173623F25ABC4E9B60",
              "data_hash": "",
              "validators_hash": "60D48194DFE26CF00DC844AEFADBDD3604BB0F02C2EE0D9F94892ACA2DDE09E7",
              "next_validators_hash": "60D48194DFE26CF00DC844AEFADBDD3604BB0F02C2EE0D9F94892ACA2DDE09E7",
              "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
              "app_hash": "6170705F68617368",
              "last_results_hash": "",
              "evidence_hash": "",
              "proposer_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2"
            },
            "commit": {
              "height": "7",
              "round": "1",
              "block_id": {
                "hash": "95D4EA78DA2214EE6E281CF741A43FCDE508BE8363F975D223E8AF34305302EA",
                "parts": {
                  "total": "1",
                  "hash": "9FFE188B79DE828D9E2D813FED8346DE51F56DCD7B990588F8B148CD19E2DD51"
                }
              },
              "signatures": [
                {
                  "block_id_flag": 2,
                  "validator_address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "OhRIq7b7pL1rewKQY7vqapTbyjUq+8fA6OtyjWONQICC8tVJJZf1heGh+vWip3AgXEVeAi/pUpLO1vreaJ3kCg=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "b4HCmKz0du5TUPSEwCus7YQTrhgTEESFkkZWKkPS2M87VyYiWYbYdTKFlYhxzqIjkRsxSLQcRFtjLOrPrZcoBg=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "dQ8N33UKSSpsgDBraCI5ubl5gGIJcB7v1+qJz57pBTPYWLk8OgvwNYuO7yelK0Ctmx5vruOphBcgVXgFVbhqDg=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "0EC358ED84E4F9088BB57617024D49E834322B54",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "O/WdNfpRAMDibjabLLbJWbEv6Q/V/hJtk1GUdRvwmybWpAf6I2hmc2IgUoawU8fixkoZIJP6VQ0pqwBZ/h5wDw=="
                }
              ]
            }
          },
          "validator_set": {
            "validators": [
              {
                "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
                },
                "voting_power": "50",
                "proposer_priority": "-17"
              },
              {
                "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
                },
                "voting_power": "50",
                "proposer_priority": "-17"
              },
              {
                "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
                },
                "voting_power": "50",
                "proposer_priority": "183"
              },
              {
                "address": "0EC358ED84E4F9088BB57617024D49E834322B54",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "/ruq8Sh5Uw9wfjlgz7365lP3V4UKMHijoZl+d3I76Bc="
                },
                "voting_power": "50",
                "proposer_priority": "-148"
              }
            ],
            "proposer": {
              "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
              },
              "voting_power": "50",
              "proposer_priority": "-17"
            }
          },
          "next_validator_set": {
            "validators": [
              {
                "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
                },
                "voting_power": "50",
                "proposer_priority": "-67"
              },
              {
                "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
                },
                "voting_power": "50",
                "proposer_priority": "133"
              },
              {
                "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
                },
                "voting_power": "50",
                "proposer_priority": "133"
              },
              {
                "address": "0EC358ED84E4F9088BB57617024D49E834322B54",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "/ruq8Sh5Uw9wfjlgz7365lP3V4UKMHijoZl+d3I76Bc="
                },
                "voting_power": "50",
                "proposer_priority": "-198"
              }
            ],
            "proposer": {
              "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
              },
              "voting_power": "50",
              "proposer_priority": "-67"
            }
          }
        }
      ],
      "expected_output": "no error"
    },
    {
      "description": "Case: Trusted height=1, verifying signed header at height=7 while valset changes more than default trust level (1/3), should expect error",
      "initial": {
        "signed_header": {
          "header": {
            "version": {
              "block": "0",
              "app": "0"
            },
            "chain_id": "test-chain-01",
            "height": "1",
            "time": "2019-11-02T15:04:00Z",
            "last_block_id": {
              "hash": "",
              "parts": {
                "total": "0",
                "hash": ""
              }
            },
            "last_commit_hash": "",
            "data_hash": "",
            "validators_hash": "26952B5D784A1564D167DF98D2D37376B5E77771928256D25E6FF9AE3AD11564",
            "next_validators_hash": "26952B5D784A1564D167DF98D2D37376B5E77771928256D25E6FF9AE3AD11564",
            "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
            "app_hash": "6170705F68617368",
            "last_results_hash": "",
            "evidence_hash": "",
            "proposer_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33"
          },
          "commit": {
            "height": "1",
            "round": "1",
            "block_id": {
              "hash": "15F15EF50BDE2018F4B129A827F90C18222C757770C8295EB8EE7BF50E761BC0",
              "parts": {
                "total": "1",
                "hash": "077E16D720F9AA656EBFD7F3FB31A4A35E1F2F4EBEBB123642BED45535D88AD5"
              }
            },
            "signatures": [
              {
                "block_id_flag": 2,
                "validator_address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "GpfzfJN5RQpKqHiZsNu3dg5z5SuD4M2sg5UdMhJdhyIEoX6jZey1M2bYec3tHy44crtfCM6D4o6RIYvsfZRlBQ=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "ObsWDMxodz7SfkGHvX5iLbHKpVkvvso0kSl2X8cPmDjinzc8fDNcMiO5V8ba3EZM9ZALayiIMsd0Pw3Z2C+nBA=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "mxvQzgchsY/GnZ7qF/I7YavLGi4aVo7hR0xqoCTB1q3PMJ/tRbTgvzdxlPtcK0POB7dQwmc20f9EGLKs1bAiAw=="
              },
              {
                "block_id_flag": 2,
                "validator_address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                "timestamp": "2019-11-02T15:04:10Z",
                "signature": "xiOf4pjfMACBpVmPGK+OoC0WPB3zqrv9GSizPF8S//W3n6D1P21AlCfmqOLp4Uzl/dwGxW4MQ1s+LqQxBzs5Bg=="
              }
            ]
          }
        },
        "next_validator_set": {
          "validators": [
            {
              "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
              },
              "voting_power": "50",
              "proposer_priority": "-150"
            },
            {
              "address": "026CC7B6F3E62F789DBECEC59766888B5464737D",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "+vlsKpn6ojn+UoTZl+w+fxeqm6xvUfBokTcKfcG3au4="
              },
              "voting_power": "50",
              "proposer_priority": "50"
            },
            {
              "address": "03A238BCAF7D1626DFE8A4AFB9448D00B7A3D2E2",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "b6hwk3pjiOTJfLVCcLDA3I3lO71zWJ0VSded5LUl9T0="
              },
              "voting_power": "50",
              "proposer_priority": "50"
            },
            {
              "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
              },
              "voting_power": "50",
              "proposer_priority": "16"
            }
          ],
          "proposer": {
            "address": "01F527D77D3FFCC4FCFF2DDC2952EEA5414F2A33",
            "pub_key": {
              "type": "tendermint/PubKeyEd25519",
              "value": "OAaNq3DX/15fGJP2MI6bujt1GRpvjwrqIevChirJsbc="
            },
            "voting_power": "50",
            "proposer_priority": "-150"
          }
        },
        "trusting_period": "10800000000000",
        "now": "2019-11-02T15:30:00Z"
      },
      "input": [
        {
          "signed_header": {
            "header": {
              "version": {
                "block": "0",
                "app": "0"
              },
              "chain_id": "test-chain-01",
              "height": "7",
              "time": "2019-11-02T15:04:50Z",
              "last_block_id": {
                "hash": "1B5E9CC5F19C6066FCECDA0F81A9CF9071261291373545F7925DB6ED8FD7341F",
                "parts": {
                  "total": "1",
                  "hash": "5723D8F31CEE0CCD11CFE7DADAE79B079CCF4062F424E52D8F6C77605070298C"
                }
              },
              "last_commit_hash": "551EDFB5EF0622176B9CDF47A3E2E828C806889E31EC5594AC20FC50D29FCC08",
              "data_hash": "",
              "validators_hash": "EA714803941C37494F2DCBF40DC7F92DEADEB573BB0D4A8D1FD10F7107FC56AD",
              "next_validators_hash": "EA714803941C37494F2DCBF40DC7F92DEADEB573BB0D4A8D1FD10F7107FC56AD",
              "consensus_hash": "048091BC7DDC283F77BFBF91D73C44DA58C3DF8A9CBC867405D8B7F3DAADA22F",
              "app_hash": "6170705F68617368",
              "last_results_hash": "",
              "evidence_hash": "",
              "proposer_address": "03EC0413849A3311A5341E7A69D6C544E9A30310"
            },
            "commit": {
              "height": "7",
              "round": "1",
              "block_id": {
                "hash": "B4EF5413BF057301C8C765A5896DBB2614A5C8900D496F3EFC7A0AE4F60873B8",
                "parts": {
                  "total": "1",
                  "hash": "68E55796AB427C60C57E4198FF3231E8A400CC5A4E5E291B45C63AB01D46C055"
                }
              },
              "signatures": [
                {
                  "block_id_flag": 2,
                  "validator_address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "EtMFPLds5q46uNULyKnL0tKzzCRNL7Azfusvpwo8S/bawfaBN29BUQvSKYgrsYFSu1m3dpIU/Kr2IMitfOJ9BA=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "0EC358ED84E4F9088BB57617024D49E834322B54",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "sqx4r3KmrVzGneacOVbZOSoaB0yUjSMNb7OkNKE7TNQ/lHlp6A242qeurgqV+xrqehAhJkG/HimbDSw8nzQDAw=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "0F7E62DD0AB86CB03DA87EB9969B558AFE04CC6B",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "aasYFQrknJ+dObtMrFO/OoHpI7BU2pPPwjfN8VK/NeDBGHZsIJF71KDffjd9AYrQlvJOK76Cxw8Q5oV8UagIAA=="
                },
                {
                  "block_id_flag": 2,
                  "validator_address": "104776A7532559122F43A5763A13FA7E747AA44C",
                  "timestamp": "2019-11-02T15:04:55Z",
                  "signature": "wBwSHcjimMNXuCRWMpN2vLINn00ZLTqOKi2rdBi18EV+E7YtYII509Mu48LFfpoYGG4wKgXHpXpkj9R/OTViDw=="
                }
              ]
            }
          },
          "validator_set": {
            "validators": [
              {
                "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
                },
                "voting_power": "50",
                "proposer_priority": "-134"
              },
              {
                "address": "0EC358ED84E4F9088BB57617024D49E834322B54",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "/ruq8Sh5Uw9wfjlgz7365lP3V4UKMHijoZl+d3I76Bc="
                },
                "voting_power": "50",
                "proposer_priority": "45"
              },
              {
                "address": "0F7E62DD0AB86CB03DA87EB9969B558AFE04CC6B",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "xsPsE8CiTwD9ZF1hVyOC3Pbucfk3pXhhA0T7OK/epNg="
                },
                "voting_power": "50",
                "proposer_priority": "45"
              },
              {
                "address": "104776A7532559122F43A5763A13FA7E747AA44C",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "17lBalGeyg7iPCeZZ5qqQo0IG10IqHdoejLCdRxwI3w="
                },
                "voting_power": "50",
                "proposer_priority": "45"
              }
            ],
            "proposer": {
              "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
              },
              "voting_power": "50",
              "proposer_priority": "-134"
            }
          },
          "next_validator_set": {
            "validators": [
              {
                "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
                },
                "voting_power": "50",
                "proposer_priority": "16"
              },
              {
                "address": "0EC358ED84E4F9088BB57617024D49E834322B54",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "/ruq8Sh5Uw9wfjlgz7365lP3V4UKMHijoZl+d3I76Bc="
                },
                "voting_power": "50",
                "proposer_priority": "-5"
              },
              {
                "address": "0F7E62DD0AB86CB03DA87EB9969B558AFE04CC6B",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "xsPsE8CiTwD9ZF1hVyOC3Pbucfk3pXhhA0T7OK/epNg="
                },
                "voting_power": "50",
                "proposer_priority": "-5"
              },
              {
                "address": "104776A7532559122F43A5763A13FA7E747AA44C",
                "pub_key": {
                  "type": "tendermint/PubKeyEd25519",
                  "value": "17lBalGeyg7iPCeZZ5qqQo0IG10IqHdoejLCdRxwI3w="
                },
                "voting_power": "50",
                "proposer_priority": "-5"
              }
            ],
            "proposer": {
              "address": "03EC0413849A3311A5341E7A69D6C544E9A30310",
              "pub_key": {
                "type": "tendermint/PubKeyEd25519",
                "value": "BQpQJElLqI4Ajo+vLroQ7KaNv+khVW2oexo0vDbPGFw="
              },
              "voting_power": "50",
              "proposer_priority": "16"
            }
          }
        }
      ],
      "expected_output": "error"
    }
  ]
}